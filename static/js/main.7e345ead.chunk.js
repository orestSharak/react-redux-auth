(this["webpackJsonpreact-redux-firebase-auth"]=this["webpackJsonpreact-redux-firebase-auth"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),s=(a(90),a(91),a(34)),u=a(17),o=a(44),i=(a(92),a(33)),m=a(1),p=a.n(m),d=a(2),f=a(79),b=(a(97),a(77)),E=f.a.initializeApp({apiKey:"AIzaSyACVqMD6osjp2c9-n2YUUW9bFfbeLo9qNs",authDomain:"auth-development-cf8e3.firebaseapp.com",projectId:"auth-development-cf8e3",storageBucket:"auth-development-cf8e3.appspot.com",messagingSenderId:"821250853747",appId:"1:821250853747:web:43d1ee432a701802cd1306"}).auth(),h=function(){return localStorage.getItem("isAuthenticated")},v=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"p-5 mb-4 mt-5 bg-light rounded-3"},r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("h1",{className:"display-5 fw-bold"},"Home Page"),r.a.createElement("p",{className:"col-md-8 fs-4"},"Using a series of utilities, you can create this jumbotron, just like the one in previous versions of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking."))))},g=a(15),y=a(110),w=a(107),O=a(112),j=Object(i.b)((function(e){return{currentUser:e.currentUser}}),{logout:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.signOut();case 3:t({type:"LOGOUT",currentUser:E.currentUser}),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,a=Object(n.useState)(null),c=Object(g.a)(a,2),l=c[0],i=c[1],m=Object(u.g)();Object(n.useLayoutEffect)((function(){i(h())}));return r.a.createElement(y.a,{bg:"dark",variant:"dark"},r.a.createElement(w.a,null,r.a.createElement(O.a,{className:"me-auto"},r.a.createElement(O.a.Link,{as:s.b,to:"/"},"Home"),r.a.createElement(O.a.Link,{as:s.b,to:"/public"},"Public"),r.a.createElement(O.a.Link,{as:s.b,to:"/private"},"Private")),r.a.createElement(O.a,null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Link,{onClick:function(e){e.preventDefault(),t(),m("/"),o.b.success("Logout successful")}},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Link,{as:s.b,to:"/login"},"Log In")))))})),x=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"p-5 mb-4 mt-5 bg-light rounded-3"},r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("h1",{className:"display-5 fw-bold"},"Public Page"),r.a.createElement("p",{className:"col-md-8 fs-4"},"Using a series of utilities, you can create this jumbotron, just like the one in previous versions of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking."))))},S=Object(i.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=e.currentUser;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"p-5 mb-4 mt-5 bg-light rounded-3"},r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("h1",{className:"display-5 fw-bold"},"Hello ",t&&t.displayName),r.a.createElement("p",{className:"col-md-8 fs-4"},"Using a series of utilities, you can create this jumbotron, just like the one in previous versions of Bootstrap. Check out the examples below for how you can remix and restyle it to your liking."))))})),N=a(113),U=a(108),k=a(111),C=a(109),L=Object(i.b)(null,{login:function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.signInWithEmailAndPassword(e,t);case 3:n({type:"LOGIN_SUCCESS",currentUser:E.currentUser.toJSON()}),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),a.t0;case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=Object(u.g)(),c=Object(n.useRef)(),l=Object(n.useRef)(),i=Object(n.useState)(""),m=Object(g.a)(i,2),f=m[0],b=m[1],E=Object(n.useState)(!1),h=Object(g.a)(E,2),v=h[0],y=h[1];function O(){return(O=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,b(""),y(!0),e.next=6,t(c.current.value,l.current.value);case 6:return e.next=8,o.b.success("Login successful");case 8:a("/private"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),b("Failed to log in"),console.log("handleSubmit error: ",e.t0);case 15:y(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return r.a.createElement(w.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"calc(100vh - 68px)"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(N.a,null,r.a.createElement(N.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Log In"),f&&r.a.createElement(U.a,{variant:"danger"},f),r.a.createElement(k.a,{onSubmit:function(e){return O.apply(this,arguments)}},r.a.createElement(k.a.Group,{id:"email"},r.a.createElement(k.a.Label,null,"Email"),r.a.createElement(k.a.Control,{type:"email",ref:c,required:!0})),r.a.createElement(k.a.Group,{id:"password"},r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,{type:"password",ref:l,required:!0})),r.a.createElement(C.a,{className:"w-100 mt-4",type:"submit",disabled:v},"Log In")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(s.b,{to:"/register"},"Register"))))})),I=Object(i.b)(null,{register:function(e,t,a){return function(){var n=Object(d.a)(p.a.mark((function n(r){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.createUserWithEmailAndPassword(e,t);case 3:return n.next=5,Object(b.a)(E.currentUser,{displayName:a});case 5:r({type:"REGISTER_SUCCESS",currentUser:E.currentUser.toJSON()}),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.register,a=Object(u.g)(),c=Object(n.useRef)(),l=Object(n.useRef)(),i=Object(n.useRef)(),m=Object(n.useRef)(),f=Object(n.useState)(""),b=Object(g.a)(f,2),E=b[0],h=b[1],v=Object(n.useState)(!1),y=Object(g.a)(v,2),O=y[0],j=y[1];function x(){return(x=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i.current.value===m.current.value){e.next=3;break}return e.abrupt("return",h("Passwords do not match"));case 3:return e.prev=3,h(""),j(!0),e.next=8,t(l.current.value,i.current.value,c.current.value);case 8:return e.next=10,o.b.success("Registration successful");case 10:a("/private"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),h("Failed to create an account"),console.log("handleSubmit error: ",e.t0);case 17:j(!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return r.a.createElement(w.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"calc(100vh - 68px)"}},r.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(N.a,null,r.a.createElement(N.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Register"),E&&r.a.createElement(U.a,{variant:"danger"},E),r.a.createElement(k.a,{onSubmit:function(e){return x.apply(this,arguments)}},r.a.createElement(k.a.Group,{id:"name"},r.a.createElement(k.a.Label,null,"Name"),r.a.createElement(k.a.Control,{type:"name",ref:c,required:!0})),r.a.createElement(k.a.Group,{id:"email"},r.a.createElement(k.a.Label,null,"Email"),r.a.createElement(k.a.Control,{type:"email",ref:l,required:!0})),r.a.createElement(k.a.Group,{id:"password"},r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,{type:"password",ref:i,required:!0})),r.a.createElement(k.a.Group,{id:"password-confirm"},r.a.createElement(k.a.Label,null,"Password Confirmation"),r.a.createElement(k.a.Control,{type:"password",ref:m,required:!0})),r.a.createElement(C.a,{className:"w-100 mt-4",type:"submit",disabled:O},"Sign Up")))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",r.a.createElement(s.b,{to:"/login"},"Log In"))))}));var R=function(e){var t=e.children;return h()?t:r.a.createElement(u.a,{to:"/login"})},P=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Oops! Page not found."))};var G=Object(i.b)(null,{fetchUser:function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.onAuthStateChanged((function(e){e?(localStorage.setItem("isAuthenticated",!0),t({type:"FETCH_USER",currentUser:e.toJSON()})):(localStorage.removeItem("isAuthenticated"),t({type:"FETCH_USER",currentUser:null}))}));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.fetchUser;return Object(n.useLayoutEffect)((function(){t()}),[t]),r.a.createElement(s.a,null,r.a.createElement("section",null,r.a.createElement(j,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",element:r.a.createElement(v,null)}),r.a.createElement(u.b,{path:"/public",element:r.a.createElement(x,null)}),r.a.createElement(u.b,{exact:!0,path:"/private",element:r.a.createElement(R,null,r.a.createElement(S,null))}),r.a.createElement(u.b,{path:"/login",element:r.a.createElement(L,null)}),r.a.createElement(u.b,{path:"/register",element:r.a.createElement(I,null)}),r.a.createElement(u.b,{path:"*",element:r.a.createElement(P,null)})),r.a.createElement(o.a,{autoClose:1e3,hideProgressBar:!0})))})),A=a(53);var q=Object(A.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":case"LOGOUT":case"FETCH_USER":return t.currentUser;default:return e}}}),B=a(82),F=a(81),H=Object(A.createStore)(q,Object(F.composeWithDevTools)(Object(A.applyMiddleware)(B.a)));l.a.render(r.a.createElement(i.a,{store:H},r.a.createElement(G,null)),document.getElementById("root"))},85:function(e,t,a){e.exports=a(104)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.7e345ead.chunk.js.map